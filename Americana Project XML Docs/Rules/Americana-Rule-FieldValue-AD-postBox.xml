<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sailpoint PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<sailpoint>
<Rule language="beanshell" name="Americana-Rule-FieldValue-AD-postBox" type="FieldValue">
  <Description>This rule can be used to generate a field value (eg - an account name) using data from the given Identity. If this rule is run in the context of a workflow step then the arguments passed into the step will also be available. Also, any field values that have been processed so far from the policy related to the Application/Role will be available.</Description>
  <Signature returnType="String" />
  <Source>String country = identity.getAttribute("country");
if(country!=null &amp;&amp; country.equalsIgnoreCase("AE")){
	return "6844";
}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("QA")){
		return "4548";		
		}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("KW")){
		return "5087";		
		}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("IN")){
		return "5087";		
		}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("MA")){
		return "5087";		
		}  
else if(country!=null &amp;&amp; country.equalsIgnoreCase("LB")){
		return "135797";		
		}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("OM")){
		return "3629";		
		}  
else if(country!=null &amp;&amp; country.equalsIgnoreCase("BH")){
		return "5087";		
		}  
else if(country!=null &amp;&amp; country.equalsIgnoreCase("SA")){
		return "4027";		
		}  
else if(country!=null &amp;&amp; country.equalsIgnoreCase("KZ")){
		return "NA";		
		}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("JO")){
		return "941051";		
		}		
else if(country!=null &amp;&amp; country.equalsIgnoreCase("IQ")){
  
  if (identity.getAttribute("location") != null){
    
  String loc = (identity.getAttribute("location")).substring(0,3);
  
  if (loc.equalsIgnoreCase("026")) {
  return "NA";
  }
  else if (loc.equalsIgnoreCase("027")) {
    return "#N/A";
  }
  }
  return null;
}
else if(country!=null &amp;&amp; country.equalsIgnoreCase("EG")){
  
  if (identity.getAttribute("location") != null){
    
  String loc = (identity.getAttribute("location")).substring(0,3);
  
  if (loc.equalsIgnoreCase("037")) {
  return "379";
  }
  else if (loc.equalsIgnoreCase("045")) {
    return "15111";
  }
  }
  return null;
}

  </Source>
</Rule>

</sailpoint>